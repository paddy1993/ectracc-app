services:
  - type: web
    name: ectracc-backend
    env: node
    plan: free
    buildCommand: npm install
    startCommand: npm run server
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        generateValue: true
      # SECURITY NOTE: These values should be set in Render dashboard as environment variables
      # DO NOT commit actual credentials to version control
      - key: MONGODB_URI
        value: SET_IN_RENDER_DASHBOARD
      - key: MONGODB_DATABASE
        value: ectracc
      - key: SUPABASE_URL
        value: SET_IN_RENDER_DASHBOARD
      - key: SUPABASE_ANON_KEY
        value: SET_IN_RENDER_DASHBOARD
      - key: SUPABASE_SERVICE_ROLE_KEY
        value: SET_IN_RENDER_DASHBOARD
    autoDeploy: true
