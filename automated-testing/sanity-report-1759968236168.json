{
  "type": "SANITY_TEST",
  "focusArea": "all",
  "summary": {
    "totalTests": 8,
    "passed": 5,
    "failed": 3,
    "skipped": 0,
    "successRate": "62.50",
    "totalDuration": "109.70s",
    "changesValid": false
  },
  "tests": [
    {
      "name": "Frontend Component Syntax",
      "status": "FAILED",
      "area": "frontend",
      "error": "Frontend syntax check failed: spawnSync /bin/sh ETIMEDOUT"
    },
    {
      "name": "Frontend Test Suite",
      "status": "FAILED",
      "area": "frontend",
      "error": "Frontend test execution failed: Command failed: cd ../ectracc-frontend && npm test -- --watchAll=false --passWithNoTests\nwatchman warning:  Recrawled this watch 5 times, most recently because:\nMustScanSubDirs UserDroppedTo resolve, please review the information on\nhttps://facebook.github.io/watchman/docs/troubleshooting.html#recrawl\nTo clear this warning, run:\n`watchman watch-del '/Users/patrickahern/ectracc-fresh' ; watchman watch-project '/Users/patrickahern/ectracc-fresh'`\n\nPASS src/__tests__/simple-frontend.test.ts\nPASS src/__tests__/utils.test.ts\nFAIL src/__tests__/AddToFootprintModal.test.tsx (13.812 s)\n  ‚óè AddToFootprintModal ‚Ä∫ should render modal when open\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:45:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should not render modal when closed\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:60:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should handle null product gracefully\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `AddToFootprintModal`.\n\n      27 |\n      28 | const renderWithTheme = (component: React.ReactElement) => {\n    > 29 |   return render(\n         |                ^\n      30 |     <ThemeProvider theme={theme}>\n      31 |       {component}\n      32 |     </ThemeProvider>\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at createChild (node_modules/react-dom/cjs/react-dom-client.development.js:7297:26)\n      at reconcileChildrenArray (node_modules/react-dom/cjs/react-dom-client.development.js:7629:25)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7952:30)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10793:13)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16231:7)\n      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)\n      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)\n      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:73:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should update quantity when input changes\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:87:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should update unit when selection changes\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:103:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should calculate total carbon footprint correctly\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:124:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should call onClose when cancel button is clicked\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:141:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should validate quantity input\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:157:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should handle form submission\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:180:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should handle API errors gracefully\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:210:5)\n\n  ‚óè AddToFootprintModal ‚Ä∫ should show loading state during submission\n\n    TypeError: _userFootprintApi.default.formatCarbonFootprint is not a function\n\n      122 |               <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n      123 |                 <Chip\n    > 124 |                   label={`üå± ${userFootprintApi.formatCarbonFootprint(product.carbon_footprint)} per item`}\n          |                                                 ^\n      125 |                   size=\"small\"\n      126 |                   variant=\"outlined\"\n      127 |                   sx={{ \n\n      at AddToFootprintModal (src/components/AddToFootprintModal.tsx:124:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderWithTheme (src/__tests__/AddToFootprintModal.test.tsx:29:16)\n      at Object.<anonymous> (src/__tests__/AddToFootprintModal.test.tsx:234:5)\n\nFAIL src/App.test.tsx\n  ‚óè Test suite failed to run\n\n    Cannot find module 'react-router-dom' from 'src/App.tsx'\n\n    Require stack:\n      src/App.tsx\n      src/App.test.tsx\n\n      1 | import React, { useEffect } from 'react';\n    > 2 | import { BrowserRouter as Router } from 'react-router-dom';\n        | ^\n      3 | import { ThemeProvider } from '@mui/material/styles';\n      4 | import { CssBaseline, Snackbar, Alert } from '@mui/material';\n      5 | import { AppProvider, useApp } from './contexts/AppContext';\n\n      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)\n      at Object.<anonymous> (src/App.tsx:2:1)\n      at Object.<anonymous> (src/App.test.tsx:3:1)\n      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)\n      at runJest (node_modules/@jest/core/build/runJest.js:404:19)\n      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)\n      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)\n\nTest Suites: 2 failed, 2 passed, 4 total\nTests:       11 failed, 27 passed, 38 total\nSnapshots:   0 total\nTime:        16.701 s\nRan all test suites.\n"
    },
    {
      "name": "Backend API Responses",
      "status": "PASSED",
      "area": "backend",
      "duration": "16506ms",
      "details": "2/2 backend endpoints responding"
    },
    {
      "name": "Backend Database Connection",
      "status": "PASSED",
      "area": "backend",
      "duration": "8459ms",
      "details": "Database services - MongoDB: connected, Supabase: connected"
    },
    {
      "name": "Database Data Integrity",
      "status": "FAILED",
      "area": "database",
      "error": "Database data integrity check failed: Database data retrieval not working properly"
    },
    {
      "name": "Authentication Endpoints",
      "status": "PASSED",
      "area": "auth",
      "duration": "8021ms",
      "details": "Authentication service status: connected"
    },
    {
      "name": "API Response Format",
      "status": "PASSED",
      "area": "api",
      "duration": "8146ms",
      "details": "API response format is consistent"
    },
    {
      "name": "Basic Security Headers",
      "status": "PASSED",
      "area": "security",
      "duration": "8603ms",
      "details": "Basic security headers check completed"
    }
  ],
  "timestamp": "2025-10-09T00:03:56.168Z",
  "verdict": "CHANGES_INVALID"
}